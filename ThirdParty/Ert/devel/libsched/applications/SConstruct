import os
import os.path
import sys
sys.path += ["../../scons-config"]
import global_config
from   global_config import LIBUTIL
from   global_config import LIBECL
from   global_config import LIBSCHED
from   global_config import add_program
from   global_config import get_target

SConscript(["perturb_history/SConstruct"])

lib_path     = "../lib"
include_path = "../include"
bin_path     = "../bin"  

conf = global_config.get_conf(os.getcwd() , 2)
env  = Environment()
lib_list =  ["lapack" , "blas" , "m" , "z" , "pthread"]
if conf.g2c:
   lib_list.append( "g2c" )

conf.update_env( env , [ LIBSCHED , LIBECL , LIBUTIL ] ,  lib_list , link = True)

##################################################################

add_program(env , conf , bin_path , "sched_summary.x"         , "sched_summary.c")
add_program(env , conf , bin_path , "sched_test.x"            , "sched_test.c")
add_program(env , conf , bin_path , "update_ir.x"             , "update_ir.c")

##################################################################

Default( bin_path )


